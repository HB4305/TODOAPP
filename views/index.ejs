<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title><%= title %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const menuToggle = document.getElementById("menuToggle");
        const sidebar = document.getElementById("sidebar");
        const menuOverlay = document.getElementById("menuOverlay");
        const menuIcon = document.getElementById("menuIcon");
        const mainContent = document.getElementById("mainContent");

        // Toggle menu
        menuToggle.addEventListener("click", () => {
          const isOpen = !sidebar.classList.contains("-translate-x-full");

          if (isOpen) {
            sidebar.classList.add("-translate-x-full");
            menuOverlay.classList.add("hidden");
            menuIcon.classList.remove("fa-xmark");
            menuIcon.classList.add("fa-bars");
            mainContent.classList.remove("opacity-50");
          } else {
            sidebar.classList.remove("-translate-x-full");
            menuOverlay.classList.remove("hidden");
            menuIcon.classList.remove("fa-bars");
            menuIcon.classList.add("fa-xmark");
            mainContent.classList.add("opacity-50");
          }
        });

        // Close menu when clicking overlay
        menuOverlay.addEventListener("click", () => {
          sidebar.classList.add("-translate-x-full");
          menuOverlay.classList.add("hidden");
          menuIcon.classList.remove("fa-xmark");
          menuIcon.classList.add("fa-bars");
          mainContent.classList.remove("opacity-50");
        });

        // Close menu when clicking a link
        document.querySelectorAll("#sidebar a").forEach((link) => {
          link.addEventListener("click", () => {
            sidebar.classList.add("-translate-x-full");
            menuOverlay.classList.add("hidden");
            menuIcon.classList.remove("fa-xmark");
            menuIcon.classList.add("fa-bars");
            mainContent.classList.remove("opacity-50");
          });
        });
      });
    </script>
  </head>

  <body
    class="min-h-screen bg-gradient-to-br from-blue-100 via-white to-blue-300 font-sans flex flex-col md:flex-row"
  >
    <!-- Mobile Hamburger Button -->
    <button
      id="menuToggle"
      class="md:hidden fixed top-4 left-4 z-50 p-2 bg-blue-600 text-white rounded-lg shadow-lg transition-all duration-300"
    >
      <i id="menuIcon" class="fa-solid fa-bars text-xl"></i>
    </button>

    <!-- Overlay for mobile menu - làm mờ nội dung -->
    <div
      id="menuOverlay"
      class="fixed inset-0 bg-opacity-50 md:hidden z-30 hidden transition-opacity duration-300"
    ></div>

    <!-- Sidebar -->
    <aside
      id="sidebar"
      class="fixed flex flex-col md:static md:flex flex-col w-64 bg-white shadow-xl p-8 h-screen md:h-auto z-40 -translate-x-full md:translate-x-0 transition-transform duration-300 overflow-y-auto"
    >
      <div class="flex-1 mt-12 md:mt-0">
        <h2 class="text-3xl font-bold text-blue-600 mb-8">Menu</h2>

        <nav class="space-y-2">
          <a
            href="/"
            class="flex items-center gap-3 px-4 py-3 bg-blue-500 text-white rounded-lg font-medium shadow-md hover:bg-blue-600 transition"
          >
            <i class="fa-solid fa-house"></i>
            <span>Home</span>
          </a>
          <a
            href="/todos"
            class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg font-medium transition"
          >
            <i class="fa-solid fa-clipboard-list"></i>
            <span>Todos</span>
          </a>
        </nav>
      </div>

      <footer class="text-center text-gray-400 text-sm border-t pt-4 mt-auto">
        <p class="mb-2">Kết nối với tôi</p>
        <a
          href="https://www.facebook.com/share/g/19oiQixM4S/"
          class="text-blue-600 text-xl hover:text-blue-400 transition-colors duration-300"
        >
          <i class="fab fa-facebook-f"></i>
        </a>
      </footer>
    </aside>

    <!-- Main Content -->
    <main
      class="flex-1 flex flex-col justify-center items-center text-center p-4 md:p-8 pt-20 md:pt-8 transition-opacity duration-300"
      id="mainContent"
    >
      <div
        class="bg-white shadow-2xl rounded-3xl p-6 md:p-10 max-w-lg w-full transition-transform hover:scale-[1.02]"
      >
        <h1 class="text-3xl md:text-5xl font-extrabold text-blue-700 mb-4">
          <%= message %>
        </h1>
        <p class="text-gray-600 mb-8 text-sm md:text-base">
          Cái này để điền thêm...
        </p>
        <a
          href="/todos"
          class="inline-block bg-blue-600 text-white px-6 py-3 rounded-full font-medium shadow-lg hover:bg-blue-700 hover:shadow-xl transition-all duration-300"
        >
          View TODO List →
        </a>
      </div>
    </main>
  </body>
</html>